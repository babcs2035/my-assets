# è³‡ç”£ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  (my-assets)

å€‹äººè³‡ç”£ã‚’çµ±åˆçš„ã«ç®¡ç†ãƒ»å¯è¦–åŒ–ã™ã‚‹ãŸã‚ã® Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã‚ã‚‹ï¼
éŠ€è¡Œå£åº§ï¼Œè¨¼åˆ¸å£åº§ï¼Œæš—å·è³‡ç”£ï¼Œãƒã‚¤ãƒ³ãƒˆãªã©ã®æƒ…å ±ã‚’é›†ç´„ã—ï¼Œè³‡ç”£ã®æ¨ç§»ã‚„ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã®æ§‹æˆã‚’è©³ç´°ã«æŠŠæ¡ã™ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã™ã‚‹ï¼

## ğŸš€ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### Frontend / Backend
- **Next.js 16 (App Router)**: æœ€æ–°ã® React ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’æ¡ç”¨ã—ï¼Œã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° (SSR) ã«ã‚ˆã‚‹é«˜é€ŸãªåˆæœŸè¡¨ç¤ºã¨ SEO æœ€é©åŒ–ã‚’å®Ÿç¾ã—ã¦ã„ã‚‹ï¼
- **TypeScript**: é™çš„å‹ä»˜ã‘ã«ã‚ˆã‚Šï¼Œé–‹ç™ºæ™‚ã®ã‚¨ãƒ©ãƒ¼ã‚’æœªç„¶ã«é˜²ãï¼Œä¿å®ˆæ€§ã®é«˜ã„ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã‚’ç¶­æŒã—ã¦ã„ã‚‹ï¼
- **Server Actions**: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒãƒ¼é–“ã®ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ãªé€šä¿¡ã‚’å®Ÿç¾ã—ï¼ŒAPI ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®å®šç¾©ã‚’ç°¡ç•¥åŒ–ã—ã¦ã„ã‚‹ï¼

### UI / Styling
- **Tailwind CSS 4**: ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆãª CSS ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®æœ€æ–°ç‰ˆã‚’ä½¿ç”¨ã—ï¼ŒæŸ”è»Ÿã§é«˜é€Ÿãªã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã‚’è¡Œã£ã¦ã„ã‚‹ï¼
- **Radix UI**: ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã«é…æ…®ã—ãŸé«˜å“è³ªãªãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç¾¤ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ï¼
- **Lucide React**: ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ã®é«˜ã„ä¸€è²«ã—ãŸãƒ‡ã‚¶ã‚¤ãƒ³ã®ã‚¢ã‚¤ã‚³ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’æ¡ç”¨ã—ã¦ã„ã‚‹ï¼
- **Recharts / Tremor**: ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã§ç¾ã—ã„ã‚°ãƒ©ãƒ•è¡¨ç¤ºã‚’å®Ÿç¾ã—ï¼Œè³‡ç”£ãƒ‡ãƒ¼ã‚¿ã®åˆ†æã‚’è¦–è¦šçš„ã«ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹ï¼

### Database / Infrastructure
- **PostgreSQL**: å …ç‰¢ãªãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒŠãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æ¡ç”¨ã—ï¼Œè³‡ç”£ãƒ‡ãƒ¼ã‚¿ã‚„å–å¼•å±¥æ­´ã‚’å®‰å…¨ã«ä¿å­˜ã™ã‚‹ï¼
- **Prisma 7**: å‹å®‰å…¨ãª ORM ã‚’ä½¿ç”¨ã—ï¼Œãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œã‚’ç›´æ„Ÿçš„ã‹ã¤å®‰å…¨ã«è¡Œã£ã¦ã„ã‚‹ï¼
- **Docker**: ã‚³ãƒ³ãƒ†ãƒŠåŒ–ã«ã‚ˆã‚Šï¼Œé–‹ç™ºç’°å¢ƒã‹ã‚‰æœ¬ç•ªç’°å¢ƒã¾ã§ä¸€è²«ã—ãŸå‹•ä½œç’°å¢ƒã‚’æä¾›ã—ã¦ã„ã‚‹ï¼

### Automation
- **Playwright**: å¼·åŠ›ãªãƒ–ãƒ©ã‚¦ã‚¶è‡ªå‹•åŒ–ãƒ„ãƒ¼ãƒ«ã‚’ç”¨ã„ã¦ï¼ŒMoneyForward ç­‰ã®å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰è³‡ç”£ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¦ã„ã‚‹ï¼
- **1Password CLI (op)**: ã‚»ã‚­ãƒ¥ã‚¢ãªèªè¨¼æƒ…å ±ã®å–å¾—ã«ä½¿ç”¨ã•ã‚Œï¼Œç’°å¢ƒå¤‰æ•°ã«ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ç›´æ›¸ãã›ãšã«è‡ªå‹•ãƒ­ã‚°ã‚¤ãƒ³ã‚’å®Ÿç¾ã—ã¦ã„ã‚‹ï¼
- **Biome 2.3**: é«˜é€Ÿãª Linter ãŠã‚ˆã³ Formatter ã¨ã—ã¦æ©Ÿèƒ½ã—ï¼Œã‚³ãƒ¼ãƒ‰ã®å“è³ªã¨ä¸€è²«æ€§ã‚’è‡ªå‹•çš„ã«ä¿æŒã—ã¦ã„ã‚‹ï¼

## ğŸ›  æŠ€è¡“çš„è©³ç´°

### 1. ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã®ä»•çµ„ã¿
ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°å‡¦ç†ã¯ `src/scraper/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é›†ç´„ã•ã‚Œã¦ã„ã‚‹ï¼
- **mf-scraper.ts**: MoneyForward ã‹ã‚‰å£åº§ä¸€è¦§ï¼Œæ®‹é«˜ï¼ŒãŠã‚ˆã³ç›´è¿‘ã®å…¥å‡ºé‡‘æ˜ç´°ã‚’å–å¾—ã™ã‚‹ï¼
- **custom-scraper.ts**: ç‰¹å®šã®å–å¼•æ‰€ (ä¾‹: Coincheck) ã‚„ç‹¬è‡ª API ã‹ã‚‰è³‡ç”£ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ãŸã‚ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã‚ã‚‹ï¼
- **èªè¨¼ã®è‡ªå‹•åŒ–**: `op item get` ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ 1Password ã‹ã‚‰ TOTP (ãƒ¯ãƒ³ã‚¿ã‚¤ãƒ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰) ã‚„ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±ã‚’å–å¾—ã—ï¼ŒPlaywright ã§å‹•çš„ãªè¦ç´ ã«å¯¾å¿œã—ãªãŒã‚‰ãƒ­ã‚°ã‚¤ãƒ³ã‚’å®Œçµã•ã›ã‚‹ï¼

### 2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆæ€æƒ³
ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã¯ä»¥ä¸‹ã®éšå±¤æ§‹é€ ã‚’æŒã¤ï¼
- **Provider**: ãƒ‡ãƒ¼ã‚¿å–å¾—å…ƒ (MoneyForward, å„ç¨®å–å¼•æ‰€ãªã©) ã‚’ç®¡ç†ã™ã‚‹ï¼
- **MainAccount**: é‡‘èæ©Ÿé–¢ã”ã¨ã®è¦ªå£åº§ã§ã‚ã‚‹ï¼
- **SubAccount**: æ™®é€šé é‡‘ï¼Œå®šæœŸé é‡‘ï¼Œç‰¹å®šã®éŠ˜æŸ„ãªã©ï¼Œå®Ÿéš›ã«é‡‘é¡ã‚’æŒã¤æœ€å°å˜ä½ã§ã‚ã‚‹ï¼
- **AssetHistory**: æ—¥ã”ã¨ã®è³‡ç”£åˆè¨ˆé‡‘é¡ã‚’ä¿å­˜ã—ï¼Œãƒãƒ£ãƒ¼ãƒˆæç”»ã«ä½¿ç”¨ã™ã‚‹ï¼

### 3. ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼
- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®èª­ã¿è¾¼ã¿æ™‚ã« `src/actions/dashboard.ts` ã®ã‚µãƒ¼ãƒãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒå®Ÿè¡Œã•ã‚Œã‚‹ï¼
- ç›´è¿‘ 90 æ—¥é–“ã® `AssetHistory` ã‚’é›†è¨ˆã—ï¼Œè³‡ç”£ã‚¿ã‚¤ãƒ—ã”ã¨ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æŒã¤å½¢å¼ã«æ•´å½¢ã—ã¦ `DashboardAreaChart` ã«æ¸¡ã™ï¼
- å„ãƒšãƒ¼ã‚¸ã¯ `force-dynamic` ã«è¨­å®šã•ã‚Œã¦ãŠã‚Šï¼Œå¸¸ã«æœ€æ–°ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹çŠ¶æ…‹ã‚’åæ˜ ã™ã‚‹è¨­è¨ˆã¨ãªã£ã¦ã„ã‚‹ï¼

### 4. é–‹ç™ºãƒ»å“è³ªç®¡ç†ãƒ«ãƒ¼ãƒ«
æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯é–‹ç™ºã®ä¸€è²«æ€§ã‚’ä¿ã¤ãŸã‚ï¼Œä»¥ä¸‹ã®ãƒ«ãƒ¼ãƒ«ã‚’é©ç”¨ã—ã¦ã„ã‚‹ï¼
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ»ã‚³ãƒ¡ãƒ³ãƒˆ**: ã™ã¹ã¦ã®ä¸»è¦ãªé–¢æ•°ï¼Œã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ŒãŠã‚ˆã³ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã«ã¯è©³ç´°ãªæ—¥æœ¬èªã‚³ãƒ¡ãƒ³ãƒˆã‚’ä»˜éšã•ã›ã‚‹ï¼
- **æ–‡ä½“**: å¥èª­ç‚¹ã«ã¯ã€Œï¼ã€ã¨ã€Œï¼Œã€ã‚’ä½¿ç”¨ã—ï¼Œã€Œã ãƒ»ã§ã‚ã‚‹ã€èª¿ã§è¨˜è¿°ã™ã‚‹ï¼
- **ãƒ­ã‚°å‡ºåŠ›**: ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯æ—¥æœ¬èªï¼Œã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã®ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°ã¯è‹±èªã§çµ±ä¸€ã™ã‚‹ï¼
- **ã‚³ãƒ¼ãƒ‰å“è³ª**: Biome ã«ã‚ˆã‚‹è‡ªå‹•æ•´å½¢ã¨ lint ãƒã‚§ãƒƒã‚¯ã‚’å¿…é ˆã¨ã—ï¼ŒCI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§ã®å“è³ªæ‹…ä¿ã‚’è¡Œã†ï¼

## âš™ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ï¼Œãƒ„ãƒ¼ãƒ«ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãŠã‚ˆã³ã‚¿ã‚¹ã‚¯å®Ÿè¡Œã« [mise](https://mise.jdx.dev/) ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¦ã„ã‚‹ï¼

### å‰ææ¡ä»¶
- [mise](https://mise.jdx.dev/) ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨
- Docker & Docker Compose (ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å®Ÿè¡Œç”¨)
- 1Password CLI (è‡ªå‹•ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ)

### æ‰‹é †

`mise` ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ï¼ŒNode.js ã‚„ pnpm ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼Œç’°å¢ƒå¤‰æ•°ã®è¨­å®šï¼Œãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®èµ·å‹•ï¼Œãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ŒãŠã‚ˆã³ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ã®æŠ•å…¥ã‚’ä¸€æ‹¬ã§è¡Œã†ã“ã¨ãŒã§ãã‚‹ï¼

1. **ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³**
   ```bash
   git clone [repository-url]
   cd my-assets
   ```

2. **åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— (ä¾å­˜é–¢ä¿‚ã®å°å…¥ãƒ»DBèµ·å‹•ãƒ»ã‚·ãƒ¼ãƒ‰æŠ•å…¥)**
   ```bash
   mise run setup
   ```
   â€» `.env.example` ã‹ã‚‰ `.env` ãŒæœªä½œæˆã®å ´åˆã¯è‡ªå‹•çš„ã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã‚‹ï¼

3. **é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•**
   ```bash
   mise dev
   ```
   ãƒ–ãƒ©ã‚¦ã‚¶ã§ `http://localhost:3000` ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ï¼

### åˆ©ç”¨å¯èƒ½ãªä¸»ãª mise ã‚¿ã‚¹ã‚¯

| ã‚³ãƒãƒ³ãƒ‰             | å†…å®¹                                                                            |
| :------------------- | :------------------------------------------------------------------------------ |
| `mise run setup`     | ç’°å¢ƒæ§‹ç¯‰ï¼ˆ`.env` ä½œæˆï¼Œä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ŒDBèµ·å‹•ï¼Œãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼Œã‚·ãƒ¼ãƒ‰ï¼‰ |
| `mise dev`           | é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•                                                              |
| `mise run build`     | æœ¬ç•ªç”¨ãƒ“ãƒ«ãƒ‰ã®å®Ÿè¡Œ                                                              |
| `mise run check`     | å‹ãƒã‚§ãƒƒã‚¯ãŠã‚ˆã³ãƒªãƒ³ã‚¿ãƒ¼ã®å®Ÿè¡Œ                                                  |
| `mise run sync`      | å„ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‹ã‚‰ã®ãƒ‡ãƒ¼ã‚¿åŒæœŸï¼ˆã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ï¼‰ã‚’æ‰‹å‹•å®Ÿè¡Œ                      |
| `mise run db:up`     | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚³ãƒ³ãƒ†ãƒŠã®èµ·å‹•                                                      |
| `mise run db:reset`  | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒªã‚»ãƒƒãƒˆãŠã‚ˆã³å†ã‚·ãƒ¼ãƒ‰                                            |
| `mise run db:studio` | Prisma Studio ã®èµ·å‹•                                                            |

---

> [!TIP]
> `mise` ã‚’ä½¿ç”¨ã—ãªã„å ´åˆã¯ï¼Œ`pnpm install`, `docker compose up -d`, `pnpm prisma db push`, `pnpm dev` ãªã©ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å€‹åˆ¥ã«å®Ÿè¡Œã—ã¦ãã ã•ã„ï¼è©³ç´°ã¯ `mise.toml` ã®å„ã‚¿ã‚¹ã‚¯å®šç¾©ã‚’å‚ç…§ã—ã¦ãã ã•ã„ï¼
